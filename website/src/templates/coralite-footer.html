<template id="coralite-footer">
  <section class="py-5 bg-dark border border-top-5">
    <div class="container text-center">
      <h2>Start Building with Coralite!</h2>

      <p>Use the scaffolding script to get jump started into your next project with Coralite</p>

      <div class="d-flex gap justify-content-center">
        <label for="install-npm" class="visibility-hidden">Install coralite commandline</label>
        <input ref="code" class="input hero-input" type="text" value="npm create coralite@latest" readonly>
        <button ref="popoverBtn" type="button" class="button button-secondary" aria-label="Copy code">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
              <rect width="8" height="4" x="8" y="2" rx="1" ry="1" />
              <path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M16 4h2a2 2 0 0 1 2 2v4m1 4H11" />
              <path d="m15 10l-4 4l4 4" />
            </g>
          </svg>
        </button>
        <div ref="popoverTarget" popover>Copied commandline!</div>
      </div>
    </div>
  </section>
  <footer class="text-center">
    <p>
      Â© 2025 Coralite | Made in Europe ðŸ‡ªðŸ‡º by <a href="https://thomasjackdavid.com/" target="_blank">Thomas David</a> -
      Hosted at <a href="https://www.statichost.eu/" target="_blank">statichost.eu</a> - Coralite <a
        href="https://codeberg.org/tjdavid/coralite" target="_blank">source code</a>
    </p>
  </footer>
</template>


<script type="module">
  import { defineComponent } from 'coralite'

  export default defineComponent({
    script ({ refs }) {
      const button = refs('popoverBtn')
      const popoverTarget = refs('popoverTarget')
      const codeTarget = refs('code')
      const popoverId = 'code__' + Math.random().toString(16).substring(2)

      popoverTarget.setAttribute('id', popoverId)
      button.setAttribute('popovertarget', popoverId)

      codeTarget.addEventListener('focus', () => {
        codeTarget.select()
      })

      button.addEventListener('click', async () => {
        try {
          await navigator.clipboard.writeText(codeTarget.value)
        } catch (error) {
          console.error(error.message)
        }
      })
    }
  })
</script>